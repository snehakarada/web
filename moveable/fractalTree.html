<!DOCTYPE html>
<html>
  <head>
    <title>pattern</title>
  </head>
  <body>
    <div id="sketch-2"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script>
      let length = 10;
      let baseAngle = 30;

      function setup() {
        createCanvas(400, 400);
      }

      function draw() {
        stroke("green");
        background(220);
        translate(width / 2, height);
        drawBranch(length, 0);
        if (length < 100) {
          length += 0.1;
        }
      }

      function drawBranch(len, depth) {
        line(0, 0, 0, -len);
        translate(0, -len);

        if (len > 10) {
          let angle = map(noise(frameCount * 0.01 + depth * 0.3), 0, 1, 20, 40);
          push();
          rotate(radians(angle));
          drawBranch(len * 0.7, depth + 1);
          pop();
          push();
          rotate(radians(-angle));
          drawBranch(len * 0.7, depth + 1);
          pop();
        }
      }
    </script>
  </body>
</html>
